; Supervisord configuration for Bet-That NFL Schedulers
; Documentation: http://supervisord.org/configuration.html

[unix_http_server]
file=/tmp/supervisor.sock   ; (the path to the socket file)
chmod=0700                   ; socket file mode (default 0700)

[supervisord]
logfile=/usr/local/var/log/supervisord.log
logfile_maxbytes=50MB
logfile_backups=10
loglevel=info
pidfile=/tmp/supervisord.pid
nodaemon=false
minfds=1024
minprocs=200

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisorctl]
serverurl=unix:///tmp/supervisor.sock

; Web-based dashboard
[inet_http_server]
port=127.0.0.1:9001
username=admin
password=betthat_admin_2025

; ================================================================
; BET-THAT SCHEDULER PROGRAMS
; ================================================================

; Main scheduler - runs at 9am daily (Mon-Sat)
; Collects: Defense stats, QB stats, matchups, and odds
[program:betthat-scheduler]
command=/usr/bin/python3 scheduler.py
directory=/Users/vato/work/Bet-That_(Proof of Concept)
autostart=true
autorestart=true
startretries=3
startsecs=10
user=vato
redirect_stderr=false
stdout_logfile=/Users/vato/work/Bet-That_(Proof of Concept)/logs/scheduler.out.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
stderr_logfile=/Users/vato/work/Bet-That_(Proof of Concept)/logs/scheduler.err.log
stderr_logfile_maxbytes=10MB
stderr_logfile_backups=5
environment=PATH="/usr/local/bin:/usr/bin:/bin"

; Odds scheduler - runs at 3pm daily (Mon-Sat)
; Collects: QB TD props, spreads, totals (odds only)
[program:betthat-scheduler-odds]
command=/usr/bin/python3 scheduler_odds.py
directory=/Users/vato/work/Bet-That_(Proof of Concept)
autostart=true
autorestart=true
startretries=3
startsecs=10
user=vato
redirect_stderr=false
stdout_logfile=/Users/vato/work/Bet-That_(Proof of Concept)/logs/scheduler_odds.out.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
stderr_logfile=/Users/vato/work/Bet-That_(Proof of Concept)/logs/scheduler_odds.err.log
stderr_logfile_maxbytes=10MB
stderr_logfile_backups=5
environment=PATH="/usr/local/bin:/usr/bin:/bin"

; Process group for easy management
[group:betthat]
programs=betthat-scheduler,betthat-scheduler-odds
priority=999
